config:
  dockerfile: .woloxci/Dockerfile
  project_name: <%= projectName %>
<% if(database && orm.sequelize) {%>
services:
  - <%= sequelizeDialect %>
<%}%>
steps:
  copy_node_modules:
    - cp -r $NODE_PATH/ ./<% if(database && orm.sequelize) {%>
  migrate_db:
    - node_modules/.bin/sequelize db:migrate<%}%>
  lint:
    - npm install -g eslint-config-prettier
    - npm install -g eslint-config-wolox
    - npm install -g eslint-config-wolox-node
    - npm install -g eslint-plugin-import
    - npm install -g eslint-plugin-prettier
    - npm install -g prettier
    - npm install -g prettier-eslint
    - npm install -g eslint
    - npm run lint
  test:
    - npm run test

environment:
  GIT_COMMITTER_NAME: a
  GIT_COMMITTER_EMAIL: b
  LANG: C.UTF-8
