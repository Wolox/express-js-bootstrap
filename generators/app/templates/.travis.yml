language: node_js

node_js:
  - "<%= nodeVersion %>"

sudo: true

env:
  - CXX=g++-4.8 NODE_ENV=testing
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
<% if(database && orm.sequelize) {%>
services:
  - postgresql

before_script:
  - psql -c "CREATE DATABASE bookstest;" -U postgres
  - npm run migrations-test
  - npm install -g eslint-config-prettier
  - npm install -g eslint-config-wolox
  - npm install -g eslint-config-wolox-node
  - npm install -g eslint-plugin-import
  - npm install -g eslint-plugin-prettier
  - npm install -g prettier
  - npm install -g prettier-eslint
  - npm install -g eslint
<%}%>