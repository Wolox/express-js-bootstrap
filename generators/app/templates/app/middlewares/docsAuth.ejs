const logger = require('../logger');

exports.isDocumentationAuthenticated = (req, res, next) => {
  const token = req.headers['documentation-token'];

  if (!token) return next({ internalCode: 401, message: 'The token was not given' });

  if(token !== process.env.DOCUMENTATION_TOKEN)
    return next({ internalCode: 401, message: 'The given documentation token was incorrect' });

  logger.info('Successful Authentication.');
  return next();
};
